{% if page.handle == 'index' %}
<div class="preloader">
  <img style="width:400px;margin:auto;" src="{{ 'welcome.gif' | asset_url }}" alt="Preloader">
</div>
  {% endif %}

<style>
  .preloader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #000;
    z-index: 9999;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  @media(max-width:768px){
     .preloader img{
        width:250px !important;
     }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    var preloader = document.querySelector('.preloader');
    var isHomepage = window.location.pathname === '/' || window.location.pathname === '/index.html';

    // Check if the page is the homepage and the loader has not been shown before
    if (isHomepage && !localStorage.getItem('loaderShown')) {
      // Set the localStorage flag right away to prevent it from showing again
      localStorage.setItem('loaderShown', 'true');

      // Display the preloader, then hide it after the specified timeout
      setTimeout(function() {
        preloader.style.display = 'none';
      }, 2000); // Adjust time as needed
    } else {
      // Immediately hide preloader on other pages or if it has already been shown
      preloader.style.display = 'none';
    }
  });
</script>

